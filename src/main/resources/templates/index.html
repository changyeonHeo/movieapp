<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>FilmPick - ì˜í™” ê²€ìƒ‰</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/modal.css">
</head>
<body>

<!-- header fragment ë¶ˆëŸ¬ì˜¤ê¸° -->
<div th:replace="fragments/header :: commonHeader"></div>

<!-- ì˜í™” ëª©ë¡ -->
<div class="movie-container" th:if="${movies != null}">
    <div class="movie-card" th:each="movie : ${movies}" th:attr="data-id=${movie['id']}">
        <img th:if="${movie['poster_path'] != null}"
             th:src="'https://image.tmdb.org/t/p/w500' + ${movie['poster_path']}" alt="í¬ìŠ¤í„° ì—†ìŒ" />
        <div class="movie-title" th:text="${movie['title']}">ì œëª©</div>
        <div class="movie-release" th:text="${movie['release_date']}">ê°œë´‰ì¼</div>
    </div>
</div>

<!-- ê¸°ë³¸ ì•ˆë‚´ ë©”ì‹œì§€ -->
<div th:if="${movies == null}" style="text-align:center; margin-top:100px; font-size:24px; color:#ccc;">
    ê²€ìƒ‰ì°½ì— ì˜í™” ì œëª©ì„ ì…ë ¥í•´ë³´ì„¸ìš” ğŸ¬
</div>

<!-- ì˜í™” í´ë¦­ ì‹œ ìƒì„¸í˜ì´ì§€ë¡œ ì´ë™ -->
<script>
    document.querySelectorAll('.movie-card').forEach(card => {
        card.addEventListener('click', function () {
            const movieId = this.getAttribute('data-id');
            window.location.href = '/detail?id=' + movieId;
        });
    });
</script>

</body>
</html>
