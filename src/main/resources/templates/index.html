<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>FilmPick - 영화 검색</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/modal.css">
</head>
<body>

<!-- header fragment 불러오기 -->
<div th:replace="fragments/header :: commonHeader"></div>

<!-- 영화 목록 -->
<div class="movie-container" th:if="${movies != null}">
    <div class="movie-card" th:each="movie : ${movies}" th:attr="data-id=${movie['id']}">
        <img th:if="${movie['poster_path'] != null}"
             th:src="'https://image.tmdb.org/t/p/w500' + ${movie['poster_path']}" alt="포스터 없음" />
        <div class="movie-title" th:text="${movie['title']}">제목</div>
        <div class="movie-release" th:text="${movie['release_date']}">개봉일</div>
    </div>
</div>

<!-- 기본 안내 메시지 -->
<div th:if="${movies == null}" style="text-align:center; margin-top:100px; font-size:24px; color:#ccc;">
    검색창에 영화 제목을 입력해보세요 🎬
</div>

<!-- 영화 클릭 시 상세페이지로 이동 -->
<script>
    document.querySelectorAll('.movie-card').forEach(card => {
        card.addEventListener('click', function () {
            const movieId = this.getAttribute('data-id');
            window.location.href = '/detail?id=' + movieId;
        });
    });
</script>

</body>
</html>
